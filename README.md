
# Сервис Опросов "SnapPoll"

Его предназначение - предоставить пользователям фозможность учавствовать в опросах. Этот сервис является тестовым заданием

Проект сделан на TypeScrips


## Установка

Для запуска, как для разработчика можно воспользоваться следующими командами. При этом, нужно учитывать, что база данных PostgesSQL уже у вас установлена локально или с помощью Docker и запущена.

```bash
  # Клонируем репозиторий
  git clone ...

  # Зайдём в директорию проекта и запустим следующие команды

  cd polls_backend
  npm install
  npm run start:dev

  cd ../polls_frontend
  npm install
  npm run dev
```
Если вы хотите проверить работоспособность программы, то советую перейти к пункту [Продакшн](#Продакшн)
## Запуск тестов

За тестирования кода отвечает библиотека Jest, как для backend, так и для frontend

Чтобы запустить тесты на frontend react можно использовать эти команды:

```bash
  cd polls_frontend
  npm run test
```

А для backend аналогичные, меняеются только директории:

```bash
  cd polls_backend
  npm run test
```

## Продакшн

Для деплоя используется Docker Compose, поэтому установка не займёт много времени и сил. Используйте следующие команды:

```bash
  # Переходим в директорию с докер файлом
  cd docker

  # Запускаем его с помощью команды: Docker автоматически подгрузит все зависимости и запустит проект
  docker-compose up -d

  # Далее я рекомендую использовать следующую команду, чтобы применить миграции к базе данных, развёрнутой в docker. Это нужно для того чтобы заполнить базовой информацией, такой как пользователи, так как регистрация не сервисе не предусмотрена 
  docker-compose run --rm backend bash -c "npm run migration:run"

```

